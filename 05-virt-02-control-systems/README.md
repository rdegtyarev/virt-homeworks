# Домашнее задание к занятию "5.2. Системы управления виртуализацией"

## Задача 1 

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований
Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий 
#### Решение
```
В случае если большинство машин на Windows, можно отдать предпочтение кластеру на Hyper-V.
Исходя из требований Hyper-V позволяет реализовать балансировку нагрузки, настроить реплики и автоматизировать резервное копирование и снапшоты.
При наличии бюджета можно смотреть в сторону VMware vSphere, в этом случае будет лучшая совместимость Linux хостов.
```
- Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин.
#### Решение
```
При необходимости использовать Windows серверов, из opensource решений лучше выбрать KVM, т.к. в нем лучше реализована поддержка Windows (по сравнекнию с Xen)
```
- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры 
#### Решение
```
Для виртуализации Windows можно использовать Hyper-V. Входит в состав лицензии Windows Server, доплаты на отдельный продукт (как например на VMware vSphere) не потребуется.
```
- Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux
#### Решение
```
В завицимости от условий, можно выбирать между гипервизорами на основе базовой ОС (VMware Workstation, VirtualBox).
Для тестирования ПО на различных ОС обычно не нужно создавать отдельную инфраструктуру, можно использовать виртуальные машины на локальных РМ. 
Для упрощения/автоматизации создания типовых хостов, можно использовать Vagrant.
```


## Задача 2

Опишите сценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин. Детально опишите необходимые шаги для использования всех преимуществ Hyper-V для Windows.  
#### Решение
```
Необходима конвертация виртуальных машин VMware в Hyper-v
Можно воспользоваться мануалами с docs.microsoft.com
https://docs.microsoft.com/ru-ru/system-center/vmm/vm-convert-vmware?view=sc-vmm-2019
Используем Convert Virtual Machine wizard, производим конвертацию виртуальных машин.

При наличии System Center можно воспользоваться продуктом System Center Virtual Machine Manager. В этом случае будет возможность управлять через него кластерами VMware и Hyper-V, планировать и проводить миграцию.

В случае миграции Windows машин на Hyper-V получаем преимущества:
больше поддерживаемых устройств, меньше проблем с драйверами;
выше быстродействие (паравиртуализация windows);
более низкий порог вхождения для инженеров по сравнению с VMware.

В миграции Linux машин на Hyper-V преимуществ нет. Возможно решение на Hyper-v будет дешевле. В случае если Windows машин в инсфраструктуре больше, преимущества миграции Windows машин перекроют сложности, которые могут быть при использовании Linux на Hyper-v.
```

## Задача 3 

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами. 

#### Решение
``` 
1. Увеличение расходов на аппаратную часть (отдельное железо для отдельных систем виртуализации).
2. Увеличение расходов на сопровождение (нужно держать в организации несколько команд поддержки для разных систем виртуализации).
3. Сложности управления и мониторинга
4. Сложности маштабирования

В крупных организациях использование гетерогенной среды неизбежно. 
Пример:
Рабочие места пользователей в организации преимущественно на Windows (бизнес подразделения, продажи, юристы итп), под это вынуждены деражать инфраструктуру на Windows Server (AD, Exchange и проч.).
В этом случае основной системой виртуализации будет Hyper-v или vSphere
В случае если в этой же организации есть направления продуктовой разработки, возникнет необходимость использовать контейнеризацию. Возможно потребность в кластере K8S.


```


---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
